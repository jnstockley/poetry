FROM dhi.io/python:3.12.12-dev@sha256:24e13f1fc03f94e85eced365faac8323d2c33369c3a68576b18e6aa3e0b5e26d AS build

COPY requirements.txt .

RUN pip install --user --upgrade pip && \
    pip install --user -r requirements.txt

FROM dhi.io/python:3.12.12@sha256:65e3d2289d1e2bcb1419af38d0ce9182d6f2cf1b51338ca947cae2744b38ec46

LABEL org.opencontainers.image.authors="Jack Stockley <jack@jstockley.com>"
LABEL org.opencontainers.image.url="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.documentation="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.source="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.vendor="Jack Stockley"
LABEL org.opencontainers.image.licenses="MIT"
LABEL org.opencontainers.image.title="Python Poetry"

COPY --from=build /root/.local/ /usr/local/