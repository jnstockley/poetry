FROM dhi.io/python:3.10.19-dev@sha256:5579582f9d1a3a2df3c260f81e4ec87e76799e9571d01d07110654bb622ed63e AS build

COPY requirements.txt .

RUN pip install --user --upgrade pip && \
    pip install --user -r requirements.txt

FROM dhi.io/python:3.10.19@sha256:2cfd14a0b4fa9c10d5947e6f3bfd1881ea88073613fb739dae69495570c4a3f3

LABEL org.opencontainers.image.authors="Jack Stockley <jack@jstockley.com>"
LABEL org.opencontainers.image.url="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.documentation="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.source="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.vendor="Jack Stockley"
LABEL org.opencontainers.image.licenses="MIT"
LABEL org.opencontainers.image.title="Python Poetry"

COPY --from=build /root/.local/ /usr/local/