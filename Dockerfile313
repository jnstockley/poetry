FROM dhi.io/python:3.13.11-dev@sha256:afbe9dc3a5482aa5a10a1b3f6b169d71cfb0565d6ca223279af3c60696ae1cbe AS build

COPY requirements.txt .

RUN pip install --user --upgrade pip && \
    pip install --user -r requirements.txt

FROM dhi.io/python:3.13.11@sha256:30c96fc631848a5360b39b01d19baf720cb03566af87a5104c39a70faeb65608

LABEL org.opencontainers.image.authors="Jack Stockley <jack@jstockley.com>"
LABEL org.opencontainers.image.url="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.documentation="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.source="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.vendor="Jack Stockley"
LABEL org.opencontainers.image.licenses="MIT"
LABEL org.opencontainers.image.title="Python Poetry"

COPY --from=build /root/.local/ /usr/local/