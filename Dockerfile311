FROM dhi.io/python:3.11.14-dev@sha256:3a9f2a0f579f20d7f60e64f19b8167d28d4d1863aa8ac66e71c64bef8b4d11c1 AS build

COPY requirements.txt .

RUN pip install --user --upgrade pip && \
    pip install --user -r requirements.txt

FROM dhi.io/python:3.11.14@sha256:bc1e3089f34fe0a92024f0d75bf11870655c3a8460b38150f0c60f46f4cb9cee

LABEL org.opencontainers.image.authors="Jack Stockley <jack@jstockley.com>"
LABEL org.opencontainers.image.url="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.documentation="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.source="https://github.com/jnstockley/poetry"
LABEL org.opencontainers.image.vendor="Jack Stockley"
LABEL org.opencontainers.image.licenses="MIT"
LABEL org.opencontainers.image.title="Python Poetry"

COPY --from=build /root/.local/ /usr/local/
